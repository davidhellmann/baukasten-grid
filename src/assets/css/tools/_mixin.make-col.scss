/*
 |--------------------------------------------------------------------------
 |  Make Col Mixin
 |--------------------------------------------------------------------------
 */

// Imports
@import '../core/settings.variables';

// Mixin
@mixin make-col($cols: 1, $context: 1, $sassMode: true) {
  // Calculate the Context
  $width: $cols / $context * 100%;

  // Check if SassMode active
  @if $sassMode == false  {
    // Set Flexbox Settings when CSS Grid is no active
    @if $bk-cssgrid == false {
      flex: 0 1 $width;
      width: $width;

      .use-flexbox > & {
        flex: 0 1 $width;
        width: $width;
      }
    }

    // Set CSS Grid Settings
    @if $bk-cssgrid == true {
      @if $bk-flexboxgrid == true or $bk-cssgrid-fallback == true {
        width: auto;
      }
      grid-column-end: span ceil($cols);
    }

  } @else {
    // Set Flexbox Settings when CSS Grid is no active
    @if $bk-cssgrid == false {
      position: relative;
      min-height: 1px;
      flex: 0 1 $width;
      width: $width;
    }

    // Set CSS Grid Settings
    @if $bk-cssgrid == true {
      grid-column-start: auto;
      grid-column-end: span ceil($cols);
    }
  }
}
