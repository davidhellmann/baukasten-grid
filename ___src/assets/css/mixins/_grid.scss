// Make Row Mixins
@import '_fluid';

// Vertical Rhythmu Mixin
@mixin make-vs($factor: 1) {
  $factor: $factor * 2;
  $gutterMin: $factor * $bk-gutterMin;
  $gutterMax: $factor * $bk-gutterMax;

  @include f($gutterMin, $gutterMax, margin-top);
}

// Section Mixin
@mixin make-section($behaviour: 'fixed', $padding: true, $factor: 1) {
  max-width: if($behaviour == 'fixed', $bk-maxWidth, none);
  $factor: $factor * 2;
  $gutterMin: $factor * $bk-gutterMin;
  $gutterMax: $factor * $bk-gutterMax;

  @if $padding == true {
    @include f($gutterMin, $gutterMax, padding-left padding-right);
  }
}

// Section Padding Mixin
@mixin make-section-padding($factor: 1) {
  @if $factor <= 1 {
    $factor: $factor * 2;
    $gutterMin: $factor * $bk-gutterMinVertical;
    $gutterMax: $factor * $bk-gutterMaxVertical;

    padding-top: 0;
    @include f($gutterMin, $gutterMax, padding-bottom);

  } @else {
    $factor: $factor * 2;
    $gutterMin: $bk-gutterMinVertical;
    $gutterMax: $bk-gutterMaxVertical;

    @include f($gutterMin * ($factor - 2), $gutterMax * ($factor - 2), padding-top);
    @include f($gutterMin * ($factor), $gutterMax * ($factor), padding-bottom);
  }
}

@mixin make-row($cols: 1, $factor: 1) {
  @if $bk-legacy == true {
    $factor: $factor * -2;
    $gutterMin: $factor * $bk-gutterMin;
    $gutterMax: $factor * $bk-gutterMax;

    @include f($gutterMin, $gutterMax, margin-left margin-right);
  }

  @if &bk-cssgrid == true {
    grid-template-columns: repeat($cols, 1fr);
  }
}

// Make Col Mixins
@mixin make-col($cols: 1, $context: 1) {
  @if $bk-legacy == true {
    flex: 1 1 calc(100% / $context * $cols);
    width: calc(100% / $context * $cols);
  }

  @if &bk-cssgrid == true {
    grid-column-end: span ceil($cols);
  }
}

// Make Col Padding Mixin
@mixin make-col-padding($factor: 1) {
  $factor: $factor * 2;
  $gutterMin: $factor * $bk-gutterMin;
  $gutterMax: $factor * $bk-gutterMax;

  @include f($gutterMin, $gutterMax, padding-left padding-right);
}

// Make Col Gap
@mixin make-col-gap($factor: 1) {
  $factor: $factor * 2;
  $gutterMin: $factor * $bk-gutterMin;
  $gutterMax: $factor * $bk-gutterMax;

  @include f($gutterMin, $gutterMax, grid-column-gap);
}

// Col Pos Mixin
@mixin col-pos($cols: auto, $max-cols: null) {
  @if $cols != auto {
    $cols: ceil($cols);
  }

  @if $bk-legacy == true {
    margin-left: calc(100% / $max-cols * $cols);
  }

  @if &bk-cssgrid == true {
    grid-column-start: $cols;
  }
}
